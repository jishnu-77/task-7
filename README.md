# Online Sales Analysis with SQLite and Pandas

### Overview

This project demonstrates how to use **SQLite**, **Pandas**, and **Matplotlib** to create a mini data pipeline that stores, analyzes, and visualizes **online sales data**. The database contains transactions across various product categories and geographic regions. The goal is to generate a **bar chart showing total revenue by product category**.


### Code Breakdown

#### 1. **Database Setup**
```python
conn = sqlite3.connect('sales.db')
cursor = conn.cursor()
```
- Creates a connection to an SQLite database called `sales.db`.
- Initializes a cursor to execute SQL commands.

#### 2. **Table Creation**
```python
queries_create = '''
    CREATE TABLE IF NOT EXISTS online_sales(
        Transaction ID INT, 
        Date DATE, 
        Product Category VARCHAR(50),
        Product Name VARCHAR(50),
        Units Sold VARCHAR(50),
        Unit Price DECIMAL(10,2),
        Total Revenue DECIMAL(10,2),
        Region VARCHAR(50),
        Payment Method VARCHAR(50)
    )
'''
cursor.execute(queries_create)
```
- Creates a table named `online_sales` to store transaction data if it doesn't already exist.

> **Note**: `Units Sold` is defined as `VARCHAR(50)` which should ideally be `INT` for numeric operations.

#### 3. **Inserting Data**
```python
queries_insert_1 = ''' INSERT INTO online_sales (...) VALUES (...), (...), ... '''
cursor.execute(queries_insert_1)
```
- Inserts 31 rows of sample transaction data across various product categories and regions.

#### 4. **Querying for Revenue Analysis**
```python
query_select_category = '''
    SELECT Product Category, 
           SUM(Units Sold) AS Total Unit Sold, 
           SUM(Unit Price * Units Sold) AS Revenue by Category 
    FROM online_sales 
    GROUP BY Product Category
'''
```
- Aggregates the sales data:
  - `SUM(Units Sold)` gives total units sold per category.
  - `SUM(Unit Price * Units Sold)` calculates revenue per category.
- Data is grouped by `Product Category`.

> If `Units Sold` remains a string, this query might fail in stricter SQL environments due to type mismatches. Ensure it's stored as an integer in production environments.

#### 5. **Visualization**
```python
df_sales.plot(kind='bar', x='Product Category', y='Revenue by Category', legend=False)
plt.title('Revenue by Product Category')
plt.xlabel('Product Category')
plt.ylabel('Revenue')
plt.xticks(rotation=45, ha='right')
plt.tight_layout()
```
- Loads the SQL results into a Pandas DataFrame.
- Plots a **bar chart** of revenue per product category using `matplotlib`.

### Explanation of the Graph

The bar chart titled **"Revenue by Product Category"** visually represents the total sales revenue generated by each product category over the recorded period.

- **X-axis**: Product categories (e.g., Electronics, Clothing, Books).
- **Y-axis**: Total revenue generated (in dollars).
- **Insights**:
  - Categories like **Electronics** and **Sports** are likely to show higher bars due to high-value items like laptops, smartphones, and sports equipment.
  - Categories such as **Books** or **Beauty Products** may show lower total revenue because of lower unit prices.


### Summary

This script:
- Sets up an SQLite database.
- Inserts mock transaction data.
- Queries aggregated sales by category.
- Generates a bar chart to visualize category-wise revenue.

This is a foundational example for anyone looking to build a lightweight data analytics or reporting tool using Python and SQL.
